<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>At Work Systems</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="/js/navbar-and-footer.js"></script>
</head>
<body>
<!-- Top Navigation -->
<div id="navbar"></div>

<!-- Main Layout -->
<div class="container-fluid wrapper" style="margin-top: 56px;">
    <!-- Main Navigation Cards Below Header -->
    <div class="main-nav d-flex justify-content-center align-items-center p-2 bg-light border-bottom">
        <div class="nav-card" data-section="salg">
            <i class="fas fa-shopping-cart me-2"></i>
            <span>Salg</span>
        </div>
        <div class="nav-card" data-section="innkjop">
            <i class="fas fa-cart-plus me-2"></i>
            <span>Innkjøp</span>
        </div>
        <div class="nav-card" data-section="produksjon">
            <i class="fas fa-industry me-2"></i>
            <span>Produksjon</span>
        </div>
        <div class="nav-card" data-section="ressurser">
            <i class="fas fa-cubes me-2"></i>
            <span>Ressurser</span>
        </div>
        <div class="nav-card" data-section="lager">
            <i class="fas fa-warehouse me-2"></i>
            <span>Lager</span>
        </div>
        <div class="nav-card" data-section="personel">
            <i class="fas fa-users me-2"></i>
            <span>Personel</span>
        </div>
    </div>

    <div class="row flex-grow-1">
        <!-- Left Sidebar for Subsections -->
        <div class="col-md-3 sidebar p-3">
            <div id="sidebar-content" class="sidebar-content">
                <!-- Dynamic content will be inserted here -->
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="col-md-9 main-content p-4">
            <div class="container">
                <div id="main-content-area">
                    <div class="row" id="salg-content">
                        <div class="col-md-12">
                            <h2>Salg</h2>
                            <p>Strømlinjeformet salgsprosess med PEPPOL-integrasjon og automatiserte "Order to Cash"-løsninger for raskere transaksjoner og økt effektivitet.</p>
                            <a href="#" class="btn btn-primary">Les Mer</a>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div id="footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const navCards = document.querySelectorAll('.nav-card');
        const sidebarContent = document.getElementById('sidebar-content');
        const mainContentArea = document.getElementById('main-content-area');

        const sections = {
            salg: {
                title: 'Salg',
                description: '',
                subsections: {
                    markedsforing: { title: 'Markedsføring', description: 'Planlegg og utfør markedsføringskampanjer for å nå nye kunder og øke salget.', icon: 'fa-bullhorn' },
                    prospekter: { title: 'Prospekter', description: 'Hold oversikt over potensielle kunder og konverter dem til salg med målrettede strategier.', icon: 'fa-address-book' },
                    crm: { title: 'CRM', description: 'Administrer kundekontakt og relasjoner for å bygge langsiktige forbindelser.', icon: 'fa-users-cog' },
                    foresporsel: { title: 'Forespørsel', description: 'Håndter kunde forespørsler raskt og effektivt for å forbedre kundetilfredshet.', icon: 'fa-question-circle' },
                    tilbud: { title: 'Tilbud', description: 'Lag og send profesjonelle tilbud til kunder for å avslutte flere salg.', icon: 'fa-file-invoice' },
                    kpiSales: { title: 'KPI Sales', description: 'Mål og analyser salgsytelse for å identifisere forbedringsområder.', icon: 'fa-chart-line' },
                    salgordre: { title: 'Salgordre', description: 'Behandle salgsordrer effektivt for å sikre rask levering til kunder.', icon: 'fa-shopping-bag' },
                    kundekontakt: { title: 'Kundekontakt', description: 'Hold kontakten med kunder gjennom målrettet kommunikasjon.', icon: 'fa-phone' }
                }
            },
            innkjop: {
                title: 'Innkjøp',
                description: '',
                subsections: {
                    revisjoner: { title: 'Revisjoner', description: 'Gjennomgå innkjøpsdata for å sikre nøyaktighet og etterlevelse.', icon: 'fa-search' },
                    innkjopsordre: { title: 'Innkjøpsordre', description: 'Opprett og administrer innkjøpsordre for å holde driften i gang.', icon: 'fa-file-alt' },
                    ordrebekreftelse: { title: 'Ordrebekreftelse', description: 'Bekreft innkjøpsordrer for å unngå feil og forsinkelser.', icon: 'fa-check-circle' },
                    leverandorforhold: { title: 'Leverandørforhold', description: 'Administrer leverandører for å bygge sterke partnerskap.', icon: 'fa-handshake' },
                    diversebilag: { title: 'Diversebilag', description: 'Håndter diverse dokumenter relatert til innkjøp.', icon: 'fa-folder-open' },
                    kpiInnkjoo: { title: 'KPI Innkjøp', description: 'Mål innkjøpsytelse for å forbedre effektiviteten.', icon: 'fa-chart-bar' }
                }
            },
            produksjon: {
                title: 'Produksjon',
                description: '',
                subsections: {
                    prosjekter: { title: 'Prosjekter', description: 'Administrer produksjonsprosjekter for å holde tidsfrister.', icon: 'fa-project-diagram' },
                    hms: { title: 'HMS', description: 'Sikre helse, miljø og sikkerhet i produksjonsmiljøet.', icon: 'fa-shield-alt' },
                    kpiProduksjon: { title: 'KPI Produksjon', description: 'Mål produksjonsytelse for å optimalisere prosesser.', icon: 'fa-tachometer-alt' },
                    undersokelser: { title: 'Undersøkelser', description: 'Gjennomfør undersøkelser for å forbedre produksjonskvalitet.', icon: 'fa-clipboard-check' },
                    transport: { title: 'Transport', description: 'Koordiner transport av varer for å sikre rettidig levering.', icon: 'fa-truck' }
                }
            },
            ressurser: {
                title: 'Ressurser',
                description: '',
                subsections: {
                    resourcePlanning: { title: 'Resource Planning', description: 'Planlegg ressursbruk for å maksimere effektivitet.', icon: 'fa-calendar-alt' },
                    biler: { title: 'Biler', description: 'Administrer firmabiler for å sikre tilgjengelighet.', icon: 'fa-car' },
                    eiendommer: { title: 'Eiendommer', description: 'Håndter eiendomsressurser for å optimalisere bruk.', icon: 'fa-building' }
                }
            },
            lager: {
                title: 'Lager',
                description: '',
                subsections: {
                    varer: { title: 'Varer', description: 'Administrer lagervarer for å sikre tilgjengelighet.', icon: 'fa-boxes' },
                    varemottak: { title: 'Varemottak', description: 'Registrer mottak av varer for å oppdatere lagerstatus.', icon: 'fa-truck-loading' },
                    fraktbrev: { title: 'Fraktbrev', description: 'Håndter fraktbrev for å spore forsendelser.', icon: 'fa-file-alt' },
                    plukkliste: { title: 'Plukkliste', description: 'Opprett plukkliste for å effektivisere ordrebehandling.', icon: 'fa-clipboard-list' },
                    lager: { title: 'Lager', description: 'Få oversikt over lagerstatus for å unngå mangler.', icon: 'fa-warehouse' }
                }
            },
            personel: {
                title: 'Personel',
                description: '',
                subsections: {
                    tidrapportering: { title: 'Tidrapportering', description: 'Registrer arbeidstimer for å spore produktivitet.', icon: 'fa-clock' },
                    kjorebok: { title: 'Kjorebok', description: 'Hold oversikt over kjøring for å administrere kostnader.', icon: 'fa-road' },
                    ansatte: { title: 'Ansatte', description: 'Administrer ansattinformasjon for bedre HR-arbeid.', icon: 'fa-users' },
                    kpiTid: { title: 'KPI Tid', description: 'Mål tidsbruk og effektivitet for å forbedre ytelse.', icon: 'fa-stopwatch' },
                    todoList: { title: 'Todo List', description: 'Administrer oppgaver for å øke produktivitet.', icon: 'fa-tasks' }
                }
            }
        };

        const updateSidebarAndContent = (section) => {
            const { title, description, subsections } = sections[section];

            // Update sidebar with subsection buttons
            sidebarContent.innerHTML = `
            <h4>${title}</h4>
            <p>${description}</p>
            <div class="d-flex flex-column gap-2">
                ${Object.entries(subsections).map(([key, value]) => `
                    <button class="btn btn-subsection" data-subsection="${key}">
                        <i class="fas ${value.icon} me-2"></i>
                        ${value.title}
                    </button>
                `).join('')}
            </div>
        `;

            // Update main content with section description initially
            mainContentArea.innerHTML = `
            <div class="row" id="${section}-content">
                <div class="col-md-12">
                    <h2>${title}</h2>
                    <p>${description}</p>
                    <a href="#" class="btn btn-primary">Les Mer</a>
                </div>
            </div>
        `;

            // Add click listeners to subsection buttons
            const subsectionButtons = sidebarContent.querySelectorAll('.btn-subsection');
            subsectionButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const subsectionKey = btn.getAttribute('data-subsection');
                    const subsection = subsections[subsectionKey];
                    mainContentArea.innerHTML = `
                    <div class="row" id="${subsectionKey}-content">
                        <div class="col-md-12 animate__animated animate__fadeIn">
                            <h2>${subsection.title}</h2>
                            <p>${subsection.description}</p>
                            <a href="#" class="btn btn-primary">Les Mer</a>
                        </div>
                    </div>
                `;
                    subsectionButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });
        };

        navCards.forEach(card => {
            card.addEventListener('click', () => {
                const section = card.getAttribute('data-section');
                updateSidebarAndContent(section);
                navCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
            });
        });

        // Trigger first section on load
        navCards[0].click();
    });
</script>
</body>
</html>